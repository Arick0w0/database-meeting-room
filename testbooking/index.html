<!DOCTYPE html>
<html>
  <head>
    <title>Booking Form</title>
  </head>
  <body>
    <form id="bookingForm">
      <!-- Add form fields here -->
      <button type="submit">Book Room</button>
    </form>

    <script>
      document
        .getElementById("bookingForm")
        .addEventListener("submit", async (event) => {
          event.preventDefault();

          const formData = new FormData(event.target);
          const requestOptions = {
            method: "POST",
            body: JSON.stringify(Object.fromEntries(formData)),
            headers: { "Content-Type": "application/json" },
          };

          try {
            const response = await fetch(
              "http://127.0.0.1:3000/bookings/create",
              requestOptions
            );
            if (response.status === 409) {
              alert("Room not available for the specified time slot");
            } else if (response.status === 201) {
              alert("Booking successful!");
            } else {
              alert("An error occurred. Please try again.");
            }
          } catch (error) {
            console.error("Error:", error);
            alert("An error occurred. Please try again.");
          }
        });
    </script>
  </body>
</html>
